<!DOCTYPE html>
<html>

<head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    
    #map {
        height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    </style>
</head>

<body>
    <div id="map"></div>
    <script>
    var map;

    var data = [
        ["Peter Pan Mini Golf", 30.2673334, -97.7647861, "https://www.facebook.com/PeterPanMiniGolf/", "http://peterpanminigolf.com/", "make bandanas"],
        ["ZACH Theatre", 30.2570869, -97.7584653, "https://www.facebook.com/zachtheatre/", "http://zachtheatre.org/", "conduct a play"]
    ];

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {
                lat: 30.26,
                lng: -97.75
            },
            zoom: 16
        });

        data.forEach((element) => {
            console.log(element);
            var request = {
                location: map.getCenter(),
                radius: '500',
                query: element[0]
            };
            var service = new google.maps.places.PlacesService(map);
            service.textSearch(request, callback);

            function callback(results, status) {
                if (status == google.maps.places.PlacesServiceStatus.OK) {
                    var marker = new google.maps.Marker({
                        map: map,
                        place: {
                            placeId: results[0].place_id,
                            location: results[0].geometry.location
                        }
                    });
                    var infowindow = new google.maps.InfoWindow({
                        content: contentString
                    });
                    google.maps.event.addDomListener(marker, 'click', function() {
                        infowindow.open(map, marker);
                    });
                }
            }
        });
        var contentString = "hi!";



    }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArRK9f93LhRzxjXUDHhBv540kA77XpPhw&libraries=places&callback=initMap" async defer></script>
</body>

</html>
